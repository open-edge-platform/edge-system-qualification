# Copyright (C) 2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

name: "profile.vertical.metro"
display_name: "Metro"
description: "Metro Suites"
version: "1.0.0"
params:
  labels:
    profile_display_name: "Metro"
    group: "metro"
    type: "vertical"
    display_status: false
  depends_on:
    - "profile.suite.system.memory-stream"
  requirements:
    # Hardware requirements
    cpu_min_cores: 4
    memory_min_gb: 5.0
    storage_total_min_gb: 64.0
    storage_min_gb: 10.0  # Free storage for test execution
    # Software requirements
    os_type:
      - "linux"
    docker_required: true
  container_image: "proxy_pl_bm_runner"
  image_tag: "1.0"
  dockerfile_name: "Dockerfile"
  base_image: "intel/dlstreamer:2025.1.2-ubuntu24"

suites:
  - name: "vertical"
    sub_suites:
      - name: "vision"
        tests:
          test_proxy_pipelines:
            params:
              - test_id: "METRO-PROXY-001"
                display_name: "LPR Pipeline (Multi-Devices)"
                devices: [igpu,dgpu]
                pptest: "LPRAIRunner"
                timeout: 750
                force_run: true

              - test_id: "METRO-PROXY-002"
                display_name: "Smart NVR (iGPU)"
                devices: [igpu]
                pptest: "SmartAIRunner"
                timeout: 750
                force_run: true
                display_output: 0  # 0=no display, 1=enable display
                requirements:
                  igpu_required: true

              - test_id: "METRO-PROXY-003"
                display_name: "Smart NVR (dGPU)"
                devices: [dgpu]
                pptest: "SmartAIRunner"
                timeout: 750
                force_run: true
                display_output: 0  # 0=no display, 1=enable display
                requirements:
                  dgpu_required: true
                  dgpu_min_devices: 1
                  dgpu_max_devices: 1

              - test_id: "METRO-PROXY-004"
                display_name: "Headed Visual AI Proxy Pipeline (iGPU)"
                devices: [igpu]
                pptest: "VisualAIRunner"
                timeout: 750
                force_run: true
                display_output: 0  # 0=no display, 1=enable display
                requirements:
                  igpu_required: true

              - test_id: "METRO-PROXY-005"
                display_name: "Headed Visual AI Proxy Pipeline (dGPU)"
                devices: [dgpu]
                pptest: "VisualAIRunner"
                timeout: 750
                force_run: true
                display_output: 0  # 0=no display, 1=enable display
                requirements:
                  dgpu_required: true
                  dgpu_min_devices: 1
                  dgpu_max_devices: 1

              - test_id: "METRO-PROXY-006"
                display_name: "VSaaS Visual AI Proxy Pipeline (iGPU)"
                devices: [igpu]
                pptest: "VsaasAIRunner"
                timeout: 750
                force_run: true
                requirements:
                  igpu_required: true

              - test_id: "METRO-PROXY-007"
                display_name: "VSaaS Visual AI Proxy Pipeline (dGPU)"
                devices: [dgpu]
                pptest: "VsaasAIRunner"
                timeout: 750
                force_run: true
                requirements:
                  dgpu_required: true
                  dgpu_min_devices: 1
                  dgpu_max_devices: 1
